from collections.abc import Mapping
from typing import Any

IS_STUB: bool

class DeltaCdfOptions: ...
class DeltaRuntimeEnvOptions: ...
class DeltaSessionRuntimePolicyOptions: ...

def plugin_library_path() -> str: ...
def plugin_manifest(path: str | None = ...) -> dict[str, object]: ...
def registry_snapshot(ctx: Any) -> Mapping[str, object]: ...
def registry_snapshot_msgpack(ctx: Any) -> bytes: ...
def udf_docs_snapshot(ctx: Any) -> Mapping[str, object]: ...
def install_function_factory(ctx: Any, policy_ipc: bytes) -> None: ...
def derive_function_factory_policy(snapshot: Any, policy: Any) -> Mapping[str, object]: ...
def capabilities_snapshot() -> Mapping[str, object]: ...
def session_context_contract_probe(ctx: Any) -> Mapping[str, object]: ...
def derive_cache_policies(payload: Mapping[str, object]) -> Mapping[str, str]: ...
def interval_align_table(left: Any, right: Any, payload: Mapping[str, object]) -> Any: ...
def extract_tree_sitter_batch(
    source: str, file_path: str, payload: Mapping[str, object] | None = ...
) -> Any: ...
def delta_write_ipc_request(ctx: Any, request_msgpack: bytes) -> Mapping[str, object]: ...
def delta_delete_request(ctx: Any, request_msgpack: bytes) -> Mapping[str, object]: ...
def delta_update_request(ctx: Any, request_msgpack: bytes) -> Mapping[str, object]: ...
def delta_merge_request(ctx: Any, request_msgpack: bytes) -> Mapping[str, object]: ...
def install_codeanatomy_runtime(
    ctx: Any,
    enable_async_udfs: bool = ...,
    async_udf_timeout_ms: int | None = ...,
    async_udf_batch_size: int | None = ...,
) -> Mapping[str, object]: ...
def capture_plan_bundle_runtime(
    ctx: Any, payload: Mapping[str, object], df: Any
) -> Mapping[str, object]: ...
def build_plan_bundle_artifact_with_warnings(
    ctx: Any,
    payload: Mapping[str, object],
    df: Any,
) -> Mapping[str, object]: ...
def replay_substrait_plan(ctx: Any, payload_bytes: bytes) -> Any: ...
def lineage_from_substrait(payload_bytes: bytes) -> Mapping[str, object]: ...
def extract_lineage_json(plan: Any) -> str: ...
def build_extraction_session(config_payload: Any) -> Any: ...
def register_dataset_provider(ctx: Any, request_payload: Any) -> Mapping[str, object]: ...
def arrow_stream_to_batches(obj: Any) -> Any: ...
def udf_expr(name: str, *args: Any, ctx: Any | None = ...) -> Any: ...
def load_df_plugin(path: str) -> Any: ...
def register_df_plugin_udfs(ctx: Any, plugin: Any, options_json: str | None = ...) -> None: ...
def register_df_plugin_table_functions(ctx: Any, plugin: Any) -> None: ...
def delta_scan_config_from_session(
    ctx: Any,
    file_column_name: str | None = ...,
    enable_parquet_pushdown: bool | None = ...,
    schema_force_view_types: bool | None = ...,
    wrap_partition_values: bool | None = ...,
    schema_ipc: bytes | None = ...,
) -> dict[str, object]: ...
def register_df_plugin_table_providers(
    ctx: Any,
    plugin: Any,
    table_names: list[str] | None = ...,
    options_json: dict[str, str] | None = ...,
) -> None: ...
def create_df_plugin_table_provider(
    plugin: Any, provider_name: str, options_json: str | None = ...
) -> Any: ...
def register_df_plugin(
    ctx: Any,
    plugin: Any,
    table_names: list[str] | None = ...,
    options_json: dict[str, str] | None = ...,
) -> None: ...
def delta_session_context(
    settings: list[tuple[str, str]] | None = ...,
    runtime_env: Any | None = ...,
    delta_runtime: Any | None = ...,
    runtime_policy: Any | None = ...,
) -> Any: ...
def install_delta_table_factory(ctx: Any, alias: str) -> None: ...
def install_delta_plan_codecs(ctx: Any) -> bool: ...
def delta_table_provider_with_files(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_table_provider_from_session(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_cdf_table_provider(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_snapshot_info(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def validate_protocol_gate(ctx: Any | None, *args: Any) -> Mapping[str, object]: ...
def delta_add_actions(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_data_checker(ctx: Any, *args: Any) -> list[str]: ...
def delta_write_ipc(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_delete(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_update(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_merge(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_optimize_compact(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_vacuum(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_restore(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_set_properties(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_add_features(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_add_constraints(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_drop_constraints(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_create_checkpoint(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def delta_cleanup_metadata(ctx: Any, *args: Any) -> Mapping[str, object]: ...
def runtime_execution_metrics_snapshot(ctx: Any) -> Mapping[str, object]: ...
def install_schema_evolution_adapter_factory(ctx: Any) -> None: ...
def install_tracing(ctx: Any) -> None: ...
def register_cache_tables(ctx: Any, payload: Any) -> None: ...
def table_logical_plan(ctx: Any, table_name: str) -> str: ...
def table_dfschema_tree(ctx: Any, table_name: str) -> str: ...
def install_planner_rules(ctx: Any) -> None: ...
def install_physical_rules(ctx: Any) -> None: ...
def register_codeanatomy_udfs(
    ctx: Any,
    enable_async: bool = ...,
    async_udf_timeout_ms: int | None = ...,
    async_udf_batch_size: int | None = ...,
) -> None: ...
def __getattr__(name: str) -> Any: ...
