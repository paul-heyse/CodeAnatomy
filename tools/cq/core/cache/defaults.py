"""Canonical cache default constants and types."""

from __future__ import annotations

from typing import Literal

CacheEvictionPolicy = Literal[
    "least-recently-stored",
    "least-recently-used",
    "least-frequently-used",
    "none",
]

DEFAULT_CACHE_DIR = ".cq_cache"
DEFAULT_CACHE_TTL_SECONDS = 900
DEFAULT_CACHE_SHARDS = 8
DEFAULT_CACHE_TIMEOUT_SECONDS = 0.05
DEFAULT_CACHE_SIZE_LIMIT_BYTES = 2_147_483_648
DEFAULT_CACHE_CULL_LIMIT = 16
DEFAULT_CACHE_EVICTION_POLICY: CacheEvictionPolicy = "least-recently-stored"
DEFAULT_CACHE_MAX_TREE_SITTER_LANES = 4
DEFAULT_CACHE_LANE_LOCK_TTL_SECONDS = 15
DEFAULT_CACHE_SQLITE_MMAP_SIZE = 0
DEFAULT_CACHE_SQLITE_CACHE_SIZE = 0
DEFAULT_CACHE_TRANSACTION_BATCH_SIZE = 128


__all__ = [
    "DEFAULT_CACHE_CULL_LIMIT",
    "DEFAULT_CACHE_DIR",
    "DEFAULT_CACHE_EVICTION_POLICY",
    "DEFAULT_CACHE_LANE_LOCK_TTL_SECONDS",
    "DEFAULT_CACHE_MAX_TREE_SITTER_LANES",
    "DEFAULT_CACHE_SHARDS",
    "DEFAULT_CACHE_SIZE_LIMIT_BYTES",
    "DEFAULT_CACHE_SQLITE_CACHE_SIZE",
    "DEFAULT_CACHE_SQLITE_MMAP_SIZE",
    "DEFAULT_CACHE_TIMEOUT_SECONDS",
    "DEFAULT_CACHE_TRANSACTION_BATCH_SIZE",
    "DEFAULT_CACHE_TTL_SECONDS",
    "CacheEvictionPolicy",
]
