# FastMCP 2.14.1 – Advanced Features for LLM-Powered Data Servers

FastMCP 2.14.1 is the latest version of the **FastMCP** Python framework, a production-ready toolkit for building Model Context Protocol (MCP) servers and clients[\[1\]](https://gofastmcp.com/getting-started/welcome#:~:text=logo%20on%20a%20watercolor%20background,ready%20with%20clean%2C%20Pythonic%20code)[\[2\]](https://gofastmcp.com/getting-started/welcome#:~:text=FastMCP%20pioneered%20Python%20MCP%20development%2C,FastMCP%20is%20made%20with%20by). MCP is often described as the “USB-C port for AI” – a standardized way to securely connect large language models (LLMs) to external **tools and data**[\[3\]](https://gofastmcp.com/getting-started/welcome#:~:text=What%20is%20MCP%3F). With FastMCP, developers can expose functions (as **Tools**), data sources (as **Resources**), and even templated interactions (as **Prompts**) to AI assistants via a unified protocol[\[4\]](https://gofastmcp.com/getting-started/welcome#:~:text=functionality%20to%20LLM%20applications%20in,MCP%20servers%20can). This report delves into FastMCP’s advanced capabilities – focusing on features relevant to a single-machine deployment that serves complex DuckDB database queries to a few concurrently connected LLM clients. We will explore how to leverage FastMCP’s powerful toolset (beyond basic MCP) for rich data delivery and customization, including asynchronous execution, structured outputs, server composition, integration with HTTP servers (Uvicorn), and deployment behind proxies (like Nginx or Cloudflare). *Enterprise-oriented features* (e.g. SSO integrations) are not covered, as we concentrate on high-impact technical features for a personal deployment.

## Advanced Tool Capabilities and Orchestration

In FastMCP, **tools** are Python functions that an LLM can invoke to perform actions such as database queries, computations, or calling external APIs[\[5\]](https://gofastmcp.com/servers/tools#:~:text=Tools%20are%20the%20core%20building,decides%20to%20use%20a%20tool). Defining a tool is as simple as decorating a function with `@mcp.tool`. FastMCP automatically infers a schema from the function’s signature and docstring for the LLM’s use[\[6\]](https://gofastmcp.com/servers/tools#:~:text=from%20fastmcp%20import%20FastMCP)[\[7\]](https://gofastmcp.com/servers/tools#:~:text=,parameter%20validation%20and%20error%20reporting). Beyond the basics, FastMCP tools support a rich array of advanced features:

- **Rich Return Types & Structured Output** – Tools can return not only plain text, but also complex data structures and even binary content. FastMCP automatically converts return values into appropriate MCP **content blocks**. For example, returning a `str` produces a text content block, and returning a `bytes` object yields a base64-encoded binary content block[\[8\]](https://gofastmcp.com/servers/tools#:~:text=Content%20Blocks). Specialized helper classes are provided for media: returning a `fastmcp.utilities.types.Image` or `Audio` object will embed the file (with correct MIME type) into the tool’s response[\[9\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20automatically%20converts%20tool%20return,into%20appropriate%20MCP%20content%20blocks)[\[10\]](https://gofastmcp.com/servers/tools#:~:text=Media%20Helper%20Classes). Multiple pieces of content can be returned as a list (each item converted accordingly)[\[11\]](https://gofastmcp.com/servers/tools#:~:text=,Results%20in%20an%20empty%20response)[\[12\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20provides%20helper%20classes%20for,MIME%20type%20and%20base64%20encoding). In parallel, FastMCP can emit **structured JSON outputs** alongside the human-readable content. If your tool returns a dictionary, Pydantic model, dataclass, or other object-like data, FastMCP will automatically include it as machine-readable JSON (`structuredContent`) in the response[\[13\]](https://gofastmcp.com/servers/tools#:~:text=Structured%20Output)[\[14\]](https://gofastmcp.com/servers/tools#:~:text=%2A%20Object,content%20blocks%20for%20backward%20compatibility). Even primitive values (ints, strings, lists) can produce structured output if you annotate the return type to generate a JSON schema[\[15\]](https://gofastmcp.com/servers/tools#:~:text=Primitives%20and%20Collections)[\[16\]](https://gofastmcp.com/servers/tools#:~:text=When%20you%20add%20a%20return,type%20roots%20for%20structured%20output). This means your tools can deliver complex query results as well-structured JSON (for programmatic use) **and** as textual summaries for the LLM’s context. For example, a tool defined to query DuckDB might be annotated to return `list[dict]` – the result will be serialized as JSON objects (one per row) and also presented in text form[\[13\]](https://gofastmcp.com/servers/tools#:~:text=Structured%20Output)[\[17\]](https://gofastmcp.com/servers/tools#:~:text=%2A%20Non,content%20blocks%20for%20backward%20compatibility). Using data classes or Pydantic models for return types yields even more precise schemas for the LLM to understand the output format[\[18\]](https://gofastmcp.com/servers/tools#:~:text=Return%20type%20annotations%20work%20with,definitions%20to%20create%20detailed%20schemas)[\[19\]](https://gofastmcp.com/servers/tools#:~:text=mcp%20%3D%20FastMCP).

- **Asynchronous Execution & Concurrency** – FastMCP is an **async-first** framework, allowing tools to be defined as `async def` for non-blocking operation[\[20\]](https://gofastmcp.com/servers/tools#:~:text=Async%20Support). If you write a synchronous function, FastMCP will internally wrap it to avoid blocking the event loop (e.g. offloading to a thread via AnyIO)[\[21\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20is%20an%20async,Async%20tools%20are)[\[22\]](https://gofastmcp.com/servers/tools#:~:text=async%20def%20wrapped_cpu_task%28data%3A%20str%29%20,return%20await%20anyio.to_thread.run_sync%28cpu_intensive_task%2C%20data). This design ensures your server remains responsive even during long-running tasks or I/O. For instance, you could integrate an Apache Hamilton data pipeline or run a DuckDB query inside a tool; by making the tool `async` and awaiting the database call (or offloading heavy CPU work to a thread), the server can handle other LLM requests concurrently. FastMCP’s docs provide patterns (using libraries like `asyncer` or `asyncio.to_thread`) to easily wrap CPU-bound functions in an async container[\[22\]](https://gofastmcp.com/servers/tools#:~:text=async%20def%20wrapped_cpu_task%28data%3A%20str%29%20,return%20await%20anyio.to_thread.run_sync%28cpu_intensive_task%2C%20data)[\[23\]](https://gofastmcp.com/servers/tools#:~:text=def%20make_async_background%28fn%3A%20Callable%5B_P%2C%20_R%5D%29%20,_R). In short, **concurrency is built-in**, which is vital when serving multiple LLM clients (even 2–3 simultaneous requests) with potentially expensive computations.

- **MCP Context Access (Agent Orchestration)** – **Tool functions can access an execution context** (`ctx`) that opens up powerful orchestration abilities[\[24\]](https://gofastmcp.com/servers/tools#:~:text=Accessing%20the%20MCP%20Context)[\[25\]](https://gofastmcp.com/servers/tools#:~:text=mcp%20%3D%20FastMCP%28name%3D). By adding a parameter of type `fastmcp.Context` to a tool, you gain programmatic control to interact with the session and client:

- You can log messages or warnings that will be sent to the client (for the LLM or user to see) via `ctx.debug()`, `ctx.info()`, etc.[\[26\]](https://gofastmcp.com/servers/tools#:~:text=The%20Context%20object%20provides%20access,to).

- You can report incremental **progress** updates with `ctx.report_progress(progress, total)`, which notifies the client about task completion percentage[\[26\]](https://gofastmcp.com/servers/tools#:~:text=The%20Context%20object%20provides%20access,to). This is useful for long queries or data processing – an LLM UI could display a progress bar or interim message.

- The tool can **read from resources** exposed on the server using `ctx.read_resource(uri)`[\[27\]](https://gofastmcp.com/servers/tools#:~:text=await%20ctx.info%28f)[\[28\]](https://gofastmcp.com/servers/tools#:~:text=,0%5D.content%20if%20resource%20else). For example, if one tool generates a large dataset and saves it as a resource, another tool (or a later step) could retrieve it via the context.

- Most impressively, a tool can even **invoke the client’s LLM** mid-execution using `ctx.sample(...)`[\[29\]](https://gofastmcp.com/servers/tools#:~:text=,total%3D100)[\[30\]](https://gofastmcp.com/servers/tools#:~:text=). This essentially allows the server to ask the LLM itself to assist in processing data. For instance, after fetching a large table from DuckDB, your tool could call `await ctx.sample("Summarize the following data: ...")` to have the LLM produce a summary, which the tool then returns to the user[\[29\]](https://gofastmcp.com/servers/tools#:~:text=,total%3D100)[\[30\]](https://gofastmcp.com/servers/tools#:~:text=). This “AI-in-the-loop” pattern can greatly enhance handling of complex or voluminous data – the LLM acts as a helper to analyze or trim the results before final output. In FastMCP 2.14.x, this agentic capability is fully supported, enabling dynamic **LLM-augmented tool execution** within a single session.

- **Error Handling and Robustness** – FastMCP automatically catches exceptions raised inside tools and converts them into structured error responses for the LLM client[\[31\]](https://gofastmcp.com/servers/tools#:~:text=New%20in%20version%20,for%20security%20reasons%2C%20you%20can)[\[32\]](https://gofastmcp.com/servers/tools#:~:text=custom%20exceptions%2C%20etc,internal%20error%20details%20for%20security). If your DuckDB query tool throws a `ValueError` or `FileNotFoundError`, the error (and stacktrace details) will be logged and an MCP error message is returned so the LLM can react accordingly[\[31\]](https://gofastmcp.com/servers/tools#:~:text=New%20in%20version%20,for%20security%20reasons%2C%20you%20can)[\[33\]](https://gofastmcp.com/servers/tools#:~:text=custom%20exceptions%2C%20etc,for%20security%20reasons%2C%20you%20can). You have control over the verbosity of error messages: by initializing your server with `mask_error_details=True`, you can prevent internal traces from leaking to the client (generic error messages will be sent)[\[34\]](https://gofastmcp.com/servers/tools#:~:text=reasons%2C%20you%20can%3A)[\[35\]](https://gofastmcp.com/servers/tools#:~:text=return%20a%20%2F%20b). Or, you can raise a `fastmcp.exceptions.ToolError` with a custom message – such messages are always passed through to the LLM even if masking is on[\[36\]](https://gofastmcp.com/servers/tools#:~:text=def%20divide,Divide%20a%20by%20b)[\[37\]](https://gofastmcp.com/servers/tools#:~:text=,by%20zero%20is%20not%20allowed). This is useful to give the AI a user-friendly explanation (e.g. “Query failed due to syntax error”) while hiding internals. These features help maintain security and clarity when things go wrong.

- **Metadata, Tags, and Permissions** – Tools can be annotated with extra metadata to guide client-side behavior and organization. **Tags** (simple strings) can categorize tools (e.g. `"database"` or `"utility"`), and the server can be configured to expose only certain tags to certain clients or environments[\[38\]](https://gofastmcp.com/servers/server#:~:text=Tag)[\[39\]](https://gofastmcp.com/servers/server#:~:text=The%20filtering%20logic%20works%20as,follows). For instance, you might tag internal admin tools as `"internal"` and run the server with `exclude_tags={"internal"}` in production to hide them[\[40\]](https://gofastmcp.com/servers/server#:~:text=,public). Tools can also be *enabled* or *disabled* dynamically. By default all are enabled, but you can mark a tool `enabled=False` in the decorator or call `tool_func.disable()` at runtime to hide it (the client will get an “Unknown tool” if it tries to call it)[\[41\]](https://gofastmcp.com/servers/tools#:~:text=Disabling%20Tools)[\[42\]](https://gofastmcp.com/servers/tools#:~:text=%40mcp.tool%28enabled%3DFalse%29%20def%20maintenance_tool%28%29%3A%20,This%20tool%20is%20disabled). This is useful for feature-flagging or maintenance windows. Furthermore, **MCP Annotations** provide standardized metadata about a tool’s behavior for the benefit of UI and AI decision-making[\[43\]](https://gofastmcp.com/servers/tools#:~:text=MCP%20Annotations)[\[44\]](https://gofastmcp.com/servers/tools#:~:text=,tools%20interact%20with%20external%20systems). For example, you can label a tool with `annotations={"readOnlyHint": True}` if it **does not modify data**, so that LLM clients know it's safe and might skip asking the user for confirmation before running it[\[45\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Skip%20Confirmations)[\[46\]](https://gofastmcp.com/integrations/chatgpt#:~:text=return%20). Other hints indicate if a tool is destructive, idempotent, or accesses external systems[\[47\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20supports%20these%20standard%20annotations%3A)[\[48\]](https://gofastmcp.com/servers/tools#:~:text=Annotation%20Type%20Default%20Purpose%20,tool%20interacts%20with%20external%20systems). These hints don’t enforce security by themselves but help LLM platforms (like ChatGPT or Claude) make better choices – e.g. ChatGPT will automatically **skip the “Are you sure?” prompt** for read-only tools in chat mode[\[49\]](https://gofastmcp.com/servers/tools#:~:text=,and%20make%20better%20execution%20decisions). Anthropic’s Claude, on the other hand, uses the provided hints to assess tool safety and decide when/how to invoke the tool during an agent conversation[\[49\]](https://gofastmcp.com/servers/tools#:~:text=,and%20make%20better%20execution%20decisions). All of this metadata is defined in code (via decorator params) so your advanced tools can be precisely described to the AI without consuming token space in prompts.

**Example – A Database Query Tool:** To illustrate an advanced tool, consider a function that queries a DuckDB database and returns results. Using FastMCP, we can expose this as a tool with structured output and progress updates:

    from fastmcp import FastMCP, Context
    import duckdb

    mcp = FastMCP("DataServer")

    @mcp.tool(name="query_duckdb", description="Execute a SQL query on the analytics database",
              annotations={"readOnlyHint": True})
    async def query_duckdb(sql: str, ctx: Context) -> list[dict]:
        """Run a SQL query on DuckDB and return the result as a list of records."""
        await ctx.info(f"Executing query: {sql}")
        # Execute query in a thread to avoid blocking, since DuckDB is CPU-intensive
        result = await ctx.run_in_executor(duckdb.query, sql)  # pseudo-code for clarity
        rows = result.fetchall()
        cols = [desc[0] for desc in result.description]
        data = [dict(zip(cols, row)) for row in rows]
        if len(data) > 1000:
            # If result set is large, log a warning and truncate
            await ctx.warning(f"Result has {len(data)} rows, showing first 1000.")
            data = data[:1000]
        # Optionally, ask the LLM to summarize if data is too large
        summary = None
        if len(data) > 500:
            sample_rows = data[:5]
            prompt = f"Summary of query result (first 5 rows shown): {sample_rows}"
            summary = await ctx.sample(prompt)
            await ctx.info("Returning summarized result due to size.")
        await ctx.report_progress(progress=100, total=100)
        return {"rows": data, "summary": summary.text if summary else None}

In this snippet, the `query_duckdb` tool uses **async** execution and `ctx.run_in_executor` (a hypothetical helper akin to `asyncio.to_thread`) to ensure the DuckDB query doesn’t block other tasks. It provides informative logs (`ctx.info/warning`) to the client and reports progress at the end[\[26\]](https://gofastmcp.com/servers/tools#:~:text=The%20Context%20object%20provides%20access,to). The return type is annotated as `list[dict]` (wrapped in a dict with a summary) so FastMCP will generate a JSON schema and include the output as structured content[\[50\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20tools%20can%20return%20data,these%20three%20concepts%20work%20together)[\[51\]](https://gofastmcp.com/servers/tools#:~:text=,validate%20the%20structured%20output%20format). We also mark it `readOnlyHint=True` to signal it’s a safe, non-destructive read operation – ChatGPT would not prompt for confirmation before using this tool[\[45\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Skip%20Confirmations). This kind of **powerful, annotated tool** showcases how FastMCP enables *rich, controllable interactions* between an LLM and your data layer.

## Dynamic Data Access with Resources and Templates

While tools are akin to RPC endpoints that the LLM actively calls, **resources** in FastMCP provide a *read-only data interface* that clients (or the LLM agent) can pull into the conversation context[\[4\]](https://gofastmcp.com/getting-started/welcome#:~:text=functionality%20to%20LLM%20applications%20in,MCP%20servers%20can)[\[52\]](https://gofastmcp.com/servers/resources#:~:text=What%20Are%20Resources%3F). A resource might represent a file, a database record, or any content that can be retrieved via a URI. For example, you could expose a configuration file, a knowledge base article, or a specific database table as a resource. Resources complement tools by letting the LLM load background information or reference data **without invoking a function**.

Defining a resource is done with `@mcp.resource("scheme://name")` on a function, which will be called to produce the content when that URI is requested[\[53\]](https://gofastmcp.com/servers/resources#:~:text=The%20)[\[54\]](https://gofastmcp.com/servers/resources#:~:text=,Hello%20from%20FastMCP%20Resources). FastMCP distinguishes resources by URI scheme to indicate their type or domain (common schemes are `resource://`, `data://`, etc., but you can choose any unique prefix). Key features of the resource system include:

- **Static and Dynamic Resources** – A resource function is executed lazily **only when the client specifically reads that URI**[\[55\]](https://gofastmcp.com/servers/resources#:~:text=Resources%20provide%20read,client%20requests%20a%20resource%20URI)[\[56\]](https://gofastmcp.com/servers/resources#:~:text=1,is%20returned%20to%20the%20client). This means you can safely register many resources; they incur no cost until used. A simple example is below:

<!-- -->

- @mcp.resource("resource://welcome")
      def welcome_msg() -> str:
          """Static welcome message"""
          return "Welcome to the FastMCP data server!"

  Here, any LLM or client that requests `resource://welcome` will get a plain text greeting. You can also return Python dictionaries or lists – FastMCP will JSON-serialize them under the hood and label the MIME type as `application/json`[\[54\]](https://gofastmcp.com/servers/resources#:~:text=,Hello%20from%20FastMCP%20Resources)[\[57\]](https://gofastmcp.com/servers/resources#:~:text=Return%20Values). If the resource returns `bytes`, FastMCP will base64-encode it and treat it as a binary blob (you should specify a MIME type like `"image/png"` in that case)[\[58\]](https://gofastmcp.com/servers/resources#:~:text=string%20and%20sent%20as%20,resource%20content%20list%20being%20returned). For full control, you can return a `fastmcp.resources.ResourceContent` object, which lets you set the content, mime type, and even attach metadata (e.g. caching headers or security policies) for that specific response[\[59\]](https://gofastmcp.com/servers/resources#:~:text=New%20in%20version%20,Policy%20headers%20for%20HTML%20widgets)[\[60\]](https://gofastmcp.com/servers/resources#:~:text=def%20get_widget%28%29%20,src%20%27self%27%22%7D). This was introduced in v2.14.1 to support scenarios like serving HTML with a Content-Security-Policy meta tag[\[61\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28%22widget%3A%2F%2Fmy,src%20%27self%27%22%7D)[\[62\]](https://gofastmcp.com/servers/resources#:~:text=,specific%20data). In short, resources can deliver text, JSON, images, or any file format to the LLM, making it easy to supply reference data or results that the model can read.

<!-- -->

- **Resource Templates (Parameterized URIs)** – FastMCP allows **dynamic URI patterns** so that a single function can handle a family of resource URIs. Using **RFC 6570 URI templates**, you can embed placeholders in the URI that become arguments to your function[\[63\]](https://gofastmcp.com/servers/resources#:~:text=,Duplicate%20Resources)[\[64\]](https://gofastmcp.com/servers/resources#:~:text=Copy%20page). For example:

<!-- -->

- @mcp.resource("data://user/{user_id}")
      def get_user_profile(user_id: str) -> dict:
          """Fetch user profile by ID"""
          return get_profile_from_db(user_id)

  Now an LLM client can request `data://user/123` and the server will call `get_user_profile("123")` and return the result as JSON. You can include multiple path params or even query parameters in the template (e.g. `resource://report/{year}?format={fmt}`), which gives a REST-API flavor to resource access[\[65\]](https://gofastmcp.com/servers/resources#:~:text=,Duplicate%20Resources)[\[66\]](https://gofastmcp.com/servers/resources#:~:text=1,is%20returned%20to%20the%20client). FastMCP will automatically parse the URI and invoke your function with the extracted parameters. This is powerful for exposing **dataset slices or query results as resources** – e.g., you might define `resource://sales/{region}` to return a pre-aggregated sales report for a region, which the LLM can pull when needed. Wildcard patterns (`{var*}`) are supported as well, enabling catch-all paths[\[63\]](https://gofastmcp.com/servers/resources#:~:text=,Duplicate%20Resources). The framework ensures that resource template URLs don’t collide and properly error if a requested resource isn’t found or if parameters are invalid (with clear errors to the client)[\[66\]](https://gofastmcp.com/servers/resources#:~:text=1,is%20returned%20to%20the%20client)[\[67\]](https://gofastmcp.com/servers/resources#:~:text=,Resources).

<!-- -->

- **Metadata and Control** – Similar to tools, resources can be customized via decorator arguments. You must give each resource a unique URI, but you can also override the default name or description that the LLM sees (by default it uses the function name and docstring)[\[68\]](https://gofastmcp.com/servers/resources#:~:text=Key%20Concepts%3A)[\[69\]](https://gofastmcp.com/servers/resources#:~:text=,Taken%20from%20the%20function%E2%80%99s%20docstring). You may explicitly set the `mime_type` (useful if returning non-JSON text like CSV or Markdown)[\[70\]](https://gofastmcp.com/servers/resources#:~:text=mime_type)[\[71\]](https://gofastmcp.com/servers/resources#:~:text=str%20), assign tags for filtering, or attach static metadata (a `meta` dict) that the client will receive when it lists available resources[\[72\]](https://gofastmcp.com/servers/resources#:~:text=meta). Resources can be **disabled** just like tools by setting `enabled=False` or toggling at runtime, which causes them to be hidden and inaccessible[\[73\]](https://gofastmcp.com/servers/resources#:~:text=Disabling%20Resources)[\[74\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28,Secret%20data). And importantly, resource functions can also accept a `Context` parameter to gain access to the same capabilities we described for tools – logging, reading other resources, etc.[\[75\]](https://gofastmcp.com/servers/resources#:~:text=Accessing%20MCP%20Context)[\[76\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28%22resource%3A%2F%2Fsystem,ctx.request_id). This means a resource could, for example, internally call another resource or use `ctx.sample()` to dynamically include LLM-generated content. However, note that resources are meant to be *read-only* from the client perspective; the protocol treats them like documents. If you find yourself needing to perform an action, that’s a better fit for a tool.

Using resources effectively can greatly enhance an LLM’s ability to fetch **larger or structured data** on demand. For instance, instead of returning a huge dataset directly in a tool (which might overwhelm the LLM’s context window), you could return a reference or key that the LLM then uses to read a resource. In an advanced use-case, a tool might generate a large CSV and save it to disk, then return a URI to an **on-the-fly resource** (perhaps using a template like `resource://temp/{file_id}`) where the CSV can be read in chunks by the LLM. FastMCP supports notifications and session management to coordinate such flows – e.g., the server will assign a session-specific resource if needed and the LLM can be guided to fetch it. In OpenAI’s ChatGPT **Deep Research mode**, the model will systematically retrieve relevant resources (with citations) to construct a comprehensive answer[\[77\]](https://gofastmcp.com/integrations/chatgpt#:~:text=ChatGPT%20supports%20MCP%20servers%20through,mode%20for%20comprehensive%20information%20retrieval)[\[78\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Deep%20Research%20Mode). By exposing key data sets via resources (with clear naming), you enable the LLM to perform powerful retrieval-augmented generation, citing your data sources in its responses.

## Server Composition and Integration Patterns

FastMCP goes beyond single-server basics by providing patterns to **compose and extend MCP servers**, which is valuable for modular design or integrating existing services:

- **Server Composition (Mounting/Importing)** – You can **combine multiple FastMCP servers** into one unified application. This is useful if you have logically separate toolsets (for example, a “Core Data” server and an “Analytics” server) or if you want to reuse an open-source server module. FastMCP offers two approaches: *importing* and *mounting*. *Importing* essentially makes a static copy of one server’s components into another, whereas *mounting* links them live under a namespace[\[79\]](https://gofastmcp.com/servers/server#:~:text=Composing%20Servers)[\[80\]](https://gofastmcp.com/servers/server#:~:text=,fastmcp%20import%20FastMCP%20import%20asyncio). For example, if you have a `sub = FastMCP("SubServer")` with some tools, you can do `main.mount(sub, prefix="sub")` on your main server[\[81\]](https://gofastmcp.com/servers/server#:~:text=main%20%3D%20FastMCP%28name%3D,Sub). The `sub` server’s tools and resources will appear as if they are part of `main` (with an optional prefix to avoid name collisions)[\[81\]](https://gofastmcp.com/servers/server#:~:text=main%20%3D%20FastMCP%28name%3D,Sub). Mounting keeps the sub-server running separately (you could even mount a remote server via a client connection), whereas importing would copy its definitions into the main server process. This **modular architecture** (new in v2.2) lets you develop features in isolation and then compose them – much like mounting sub-apps in a web framework[\[82\]](https://gofastmcp.com/servers/composition#:~:text=Server%20Composition%20,0%20As%20your%20MCP)[\[83\]](https://www.reddit.com/r/mcp/comments/1l24ydp/create_a_mcp_to_call_multiple_mcps/#:~:text=We%20call%20this%20%E2%80%9Cserver%20composition%E2%80%9D,com%2Fservers). In a simple personal deployment, you might not need composition, but it could be handy if, say, you want to package your DuckDB query tools as one module and an unrelated set of tools (perhaps for file system access or another domain) as another, and then run a single server exposing both. Composition also makes it easier to maintain large projects by separation of concerns.

- **Proxying to Other MCP Servers** – FastMCP can act as a **proxy** in front of any other MCP server (even written in another language or running remotely). Using `FastMCP.as_proxy(client, name="ProxyServer")`, you wrap a *Client* connection to a target server into a local server instance[\[84\]](https://gofastmcp.com/servers/server#:~:text=Proxying%20Servers). For example, you might connect to a remote MotherDuck-hosted MCP server (which provides heavy data analytics tools) and present it locally as part of your own server. The proxy server will forward calls to the backend and stream results back, handling session management so each incoming request uses a fresh session unless explicitly shared[\[85\]](https://gofastmcp.com/servers/server#:~:text=New%20in%20version%20,for%20details%20and%20advanced%20usage)[\[86\]](https://gofastmcp.com/servers/server#:~:text=frontend%20to%20existing%20servers,for%20details%20and%20advanced%20usage). One use-case is bridging transports: e.g., if a certain client can only use STDIO transport but your actual server is HTTP-only, you can run a local STDIO proxy that forwards to the HTTP server. In practice, proxying is more relevant to tool developers or complex multi-host setups; for a single-machine personal server, you likely won’t need this. Still, it underscores that **FastMCP can integrate multiple sources** – you’re not limited to one process or one language for all tools.

- **Wrapping Existing APIs (OpenAPI/FastAPI Integration)** – If you have existing web APIs or FastAPI apps that you wish to expose to LLMs via MCP, FastMCP provides one-click integration. You can create an MCP server from an **OpenAPI** spec or a **FastAPI** app using factory methods. For example, `FastMCP.from_openapi(openapi_spec=spec_json, client=httpx.AsyncClient())` will generate a suite of tools corresponding to each operation in the OpenAPI definition (using an HTTPX client to call the real API)[\[87\]](https://gofastmcp.com/servers/server#:~:text=OpenAPI%20Integration)[\[88\]](https://gofastmcp.com/servers/server#:~:text=from%20fastmcp%20import%20FastMCP). Similarly, `FastMCP.from_fastapi(app)` will wrap a live FastAPI app’s endpoints as MCP tools[\[89\]](https://gofastmcp.com/servers/server#:~:text=OpenAPI%20Integration). This feature (new in v2.0) instantly makes your existing REST endpoints usable by LLMs through function-like calls, without manual coding. It is an advanced capability more relevant to enterprise scenarios where you want to leverage internal APIs or microservices. In a personal project, you might use it if, say, you already have a FastAPI serving DuckDB queries via HTTP and you want to quickly give your LLM agent access to those endpoints – just wrap it, and now your AI can call those queries through MCP as if they were native tools. This conversion respects the schemas in the OpenAPI, meaning the LLM gets parameter and output definitions for each operation, and you can still layer additional FastMCP features (auth, caching, etc.) on top[\[89\]](https://gofastmcp.com/servers/server#:~:text=OpenAPI%20Integration).

- **Tool Transformation Hooks** – FastMCP offers patterns to dynamically modify or decorate tool behaviors (documented as “Tool Transformation” patterns). For example, you could write a decorator to automatically log every tool call, or to enforce access control on certain tools. These patterns tie into FastMCP’s internal registration of tools. One built-in utility is the `@mcp.tool` decorator’s ability to attach pre/post execution hooks or wrap class methods (via the “Decorating Methods” pattern)[\[90\]](https://llmmultiagents.com/en/blogs/FastMCP-2.0--Building-the-USB-C-of-AI-with-Python#:~:text=Server%20Composition%3A%20Building%20Modular%20Systems,allows%20you%20to%20build)[\[91\]](https://news.ycombinator.com/item?id=44193312#:~:text=One%20of%20the%20first%20features,to%20reuse%20servers%20whenever). While details are beyond scope, it’s good to know that the framework is extensible: you can inject cross-cutting concerns like caching or input normalization across all tools if needed. There is also a **contrib module system** where community extensions live (e.g., one might find a contributed module for common database tools)[\[92\]](https://gofastmcp.com/patterns/contrib#:~:text=New%20in%20version%20,viewed%20in%20the%20contrib%20directory)[\[93\]](https://gofastmcp.com/patterns/contrib#:~:text=To%20use%20a%20contrib%20module%2C,package). Advanced users can explore these to further customize server behavior.

In summary, FastMCP’s composition and integration features let you **scale up your server’s functionality** in a modular way or bridge it with existing systems. Even if your current use is a single self-contained server, these capabilities ensure you won’t hit a dead-end as your project grows – you can incorporate new tool sets or publish parts of your server for reuse. For a Python expert, it’s entirely feasible to partition an application by domains (e.g., one MCP server dedicated to Hamilton pipeline operations and another to database queries) and then mount them together. FastMCP handles the routing and naming, so the connected LLMs just see one unified list of tools and resources.

## Deployment and Performance Considerations

FastMCP is designed to get you from idea to a running server quickly, but it also supports production-grade deployment scenarios. In a personal setup (one machine, few clients), you can start simple and then layer in optimizations as needed:

- **Built-In Server vs. Custom ASGI** – The quickest way to run your FastMCP server is to call `mcp.run()` in your script (or use the CLI command `fastmcp run server.py`). By default this uses a **STDIO transport** (for local CLI-based clients), but for serving LLMs over the network you’ll specify `mcp.run(transport="http", host="0.0.0.0", port=8000)` to start an HTTP server[\[94\]](https://gofastmcp.com/servers/server#:~:text=Running%20the%20Server)[\[95\]](https://gofastmcp.com/servers/server#:~:text=return%20f). Under the hood, FastMCP uses an embedded Uvicorn server to listen for HTTP requests on the given host/port, so you don’t have to manually set up an ASGI server in basic cases[\[96\]](https://gofastmcp.com/deployment/http#:~:text=python%20server)[\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure). This one-liner approach is great for dev and small-scale use – *“the built-in server handles all the HTTP details, letting you focus on your MCP implementation”*[\[98\]](https://gofastmcp.com/deployment/http#:~:text=Your%20server%20is%20now%20accessible,focus%20on%20your%20MCP%20implementation)[\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure). However, for more control in production you can treat your FastMCP server as a standard **ASGI app**. FastMCP provides `mcp.http_app()` which returns a Starlette/FastAPI-compatible ASGI application that you can run with any ASGI server (Uvicorn, Hypercorn, Gunicorn, etc.)[\[99\]](https://gofastmcp.com/deployment/http#:~:text=ASGI%20Application)[\[100\]](https://gofastmcp.com/deployment/http#:~:text=,http_app). For example, you might create `app = mcp.http_app(path="/api/mcp/")` and then run `uvicorn app:app --workers 4 --port 8000`. This allows multiple worker processes to handle concurrent requests (helpful if you expect CPU-bound workloads or spikes in traffic)[\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure)[\[101\]](https://gofastmcp.com/deployment/http#:~:text=Your%20server%20is%20accessible%20at,part%20of%20a%20larger%20application). It also lets you integrate FastMCP into a larger web application – you could mount the `app` into a larger FastAPI application, or vice versa, mount a web frontend under the same Uvicorn. The **bottom line**: for a personal server serving 2–3 LLMs, the integrated `mcp.run()` (single process) is likely sufficient and very convenient. But if you later deploy behind Nginx or need more throughput, you can switch to a multi-worker setup easily by using the ASGI app approach[\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure)[\[102\]](https://gofastmcp.com/deployment/http#:~:text=Copy). Both modes expose the same `/mcp` HTTP endpoint to clients by default.

- **Reverse Proxy (Nginx/Cloudflare) Setup** – FastMCP’s HTTP server is fully compatible with being run behind a reverse proxy or tunneling service. In practice, you might not want your Python process directly exposed on the internet. A common scenario is to run FastMCP on `localhost:8000` and put **Nginx** in front to handle TLS (HTTPS) and forwarding. This is straightforward: you’d proxy the `/mcp/` path (or whatever path you choose) to your Uvicorn server. FastMCP even lets you customize the base **URL path** of the MCP endpoint if needed: e.g. `mcp.run(transport="http", path="/api/mcp/")` will serve at `/api/mcp/` instead of the default `/mcp/`[\[103\]](https://gofastmcp.com/deployment/http#:~:text=Custom%20Path)[\[104\]](https://gofastmcp.com/deployment/http#:~:text=,api%2Fmcp). This can help avoid conflicts in a larger site configuration. When using Cloudflare as a DNS or CDN proxy for your domain, treat the FastMCP service like any API – ensure your Cloudflare settings allow WebSockets or streaming if you use them (Cloudflare **does** support SSE and HTTP streaming). By default, FastMCP’s recommended transport is **Streamable HTTP**, which operates over standard HTTP/1.1 and should pass through proxies without issue[\[105\]](https://gofastmcp.com/servers/server#:~:text=,legacy%20web%20transport%2C%20deprecated). (Legacy Server-Sent Events transport is also HTTP-based; Cloudflare and Nginx can handle it as long as you disable buffering so events flush immediately.) In short, no special accommodation is usually needed for Nginx/Cloudflare beyond typical web service proxy config. One important aspect is **health checks and timeouts**: you can add a trivial health-check route via `@mcp.custom_route("/health")` that returns “OK”[\[106\]](https://gofastmcp.com/servers/server#:~:text=Custom%20Routes)[\[107\]](https://gofastmcp.com/servers/server#:~:text=%40mcp.custom_route%28,PlainTextResponse%3A%20return%20PlainTextResponse%28%22OK). Point your load balancer or uptime monitor at this endpoint to verify the service is running[\[108\]](https://gofastmcp.com/deployment/http#:~:text=Health%20Checks)[\[109\]](https://gofastmcp.com/deployment/http#:~:text=%40mcp.custom_route%28,server). Also consider client timeout settings – LLM requests might take tens of seconds for complex queries, so configure Nginx’s `proxy_read_timeout` accordingly and be mindful of Cloudflare’s 100-second timeout on responses.

- **CORS and Browser Access** – If your LLM clients run **server-to-server** (e.g. ChatGPT calling your MCP server from OpenAI’s cloud, or Claude from Anthropic’s cloud), you do *not* need to enable any special CORS settings. The requests are not coming from a user’s browser, but from the AI service backend, so they ignore browser origin policies[\[110\]](https://gofastmcp.com/deployment/http#:~:text=CORS%20for%20Browser)[\[111\]](https://gofastmcp.com/deployment/http#:~:text=Most%20MCP%20clients%2C%20including%20those,as%20debugging%20tools%20or%20inspectors). In fact, the FastMCP docs note that *“most MCP clients, including those accessed through a browser like ChatGPT or Claude, don’t need CORS”*[\[110\]](https://gofastmcp.com/deployment/http#:~:text=CORS%20for%20Browser)[\[112\]](https://gofastmcp.com/deployment/http#:~:text=LLM%20through%20a%20browser%E2%80%94in%20that,clients%20that%20need%20CORS%20include). Only if you are directly connecting to MCP from front-end JavaScript (for example, a custom web UI that hits the MCP API) would you need to enable CORS. FastMCP makes that easy via Starlette’s middleware: you can pass a list of `Middleware(...)` objects to `mcp.http_app()`, for instance to allow all origins or specific domains[\[113\]](https://gofastmcp.com/deployment/http#:~:text=Custom%20Middleware)[\[114\]](https://gofastmcp.com/deployment/http#:~:text=Middleware%28%20CORSMiddleware%2C%20allow_origins%3D%5B,). They even document the required headers: you’d include `mcp-protocol-version`, `mcp-session-id`, etc., in allowed and exposed headers so that the browser JavaScript can maintain session state[\[115\]](https://gofastmcp.com/deployment/http#:~:text=CORSMiddleware%2C%20allow_origins%3D%5B%22%2A%22%5D%2C%20%20,Type)[\[116\]](https://gofastmcp.com/deployment/http#:~:text=Key%20configuration%20details%3A). But again, for typical usage with official LLM clients, you won’t need to worry about this. If you’re using Cloudflare Tunnel or similar to expose a local dev server, that’s essentially like ngrok – ChatGPT’s connector will treat it as a normal HTTPS endpoint (as long as it’s publicly reachable over HTTPS, which Cloudflare or ngrok provides).

- **Authentication** – Even though this is a personal server, you should consider adding at least basic auth if the service is accessible over the internet. Some LLM integration modes actually *require* auth on the MCP server for security – for example, certain clients might refuse to connect to an unauthenticated remote server[\[117\]](https://gofastmcp.com/deployment/http#:~:text=Authentication). FastMCP supports a range of auth methods out of the box: static bearer tokens, API keys, JWT, OAuth2 providers (Google, GitHub, etc.)[\[2\]](https://gofastmcp.com/getting-started/welcome#:~:text=FastMCP%20pioneered%20Python%20MCP%20development%2C,FastMCP%20is%20made%20with%20by). The simplest is adding a **Bearer token**. You can do this by configuring the server (e.g. `FastMCP(..., auth_token="mysecret")`) or via environment variables. When enabled, the server will expect an `Authorization: Bearer <token>` header on each request[\[117\]](https://gofastmcp.com/deployment/http#:~:text=Authentication). ChatGPT’s Developer Mode connector UI allows you to specify this token when adding the server[\[118\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,Click%20Create). For a two-LLM personal use, a shared static token or even no auth (if running locally) might suffice, but it’s good to know FastMCP can integrate with robust auth if needed later. (Since we are focusing on non-enterprise, we won’t detail OAuth setups here.)

- **Performance Tuning** – On a single machine, you can already achieve a lot: Uvicorn with multiple workers, or even multiple FastMCP instances behind a load balancer if you needed to scale out horizontally. FastMCP is built on top of Starlette/FastAPI, known for high-performance async I/O, so it can handle many concurrent connections efficiently. The heavy part will likely be your data layer (DuckDB computations, etc.) – for which you might use the async patterns discussed (thread offloading, streaming results). Also note FastMCP includes a **testing framework** and CLI tools to facilitate load testing and debugging of your server[\[2\]](https://gofastmcp.com/getting-started/welcome#:~:text=FastMCP%20pioneered%20Python%20MCP%20development%2C,FastMCP%20is%20made%20with%20by). You can simulate tool calls with the Python client in an async loop to see how your server performs under concurrent usage. And if you ever want to deploy to the cloud easily, the team provides **FastMCP Cloud** – a hosted service free for personal servers – which can remove the infrastructure burden[\[119\]](https://gofastmcp.com/getting-started/welcome#:~:text=Python%20developers%20Complete%3A%20Everything%20for,or%20to%20your%20own%20infrastructure). But given you plan to run on your own hardware with possibly Cloudflare in front, you have full control and likely won’t need the managed service.

## Connecting LLM Clients (ChatGPT, Claude, etc.)

One of FastMCP’s strengths is its compatibility with many AI assistant platforms out-of-the-box. OpenAI, Anthropic, and others have embraced MCP, meaning your server can plug into their **copilot** interfaces with minimal fuss:

- **OpenAI ChatGPT** – ChatGPT (especially the paid tiers) supports connecting to MCP servers via the **Connectors** interface. FastMCP’s documentation notes that OpenAI’s own MCP examples are built with FastMCP[\[120\]](https://gofastmcp.com/integrations/chatgpt#:~:text=This%20feature%20is%20available%20for,Team%2C%20Enterprise%2C%20and%20Edu%20users). To connect your server, you enable *Developer Mode* in ChatGPT settings and create a new Connector, providing your server’s public URL (e.g. `https://your-domain.com/mcp/`)[\[121\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1)[\[118\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,Click%20Create). Once added and trusted, you can activate the connector in a chat and the model can directly use your tools during conversation[\[122\]](https://gofastmcp.com/integrations/chatgpt#:~:text=3)[\[123\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,you%20can%20use%20your%20tools). For instance, after adding the “Demo Server” in the docs, a user in ChatGPT can simply ask, *“Roll a 20-sided dice,”* and ChatGPT will call the `roll_dice` tool without extra prompts[\[124\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Example%20usage%3A). With Developer Mode, ChatGPT doesn’t require your server to implement search or retrieval tools – you can use any tools freely in normal chats. Additionally, OpenAI has a **Deep Research mode** where ChatGPT will systematically call tools to gather information and provide citations in a final answer[\[77\]](https://gofastmcp.com/integrations/chatgpt#:~:text=ChatGPT%20supports%20MCP%20servers%20through,mode%20for%20comprehensive%20information%20retrieval)[\[78\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Deep%20Research%20Mode). This mode typically triggers when a user asks for an in-depth answer; ChatGPT might use tools tagged for retrieval (like resources or search functions) multiple times and then respond with a well-cited essay. If your server exposes resources (e.g. `resource://sales/2023` for a sales report), ChatGPT could fetch them and then cite those URIs in the answer it gives to the user. By leveraging Developer Mode and hints like `readOnlyHint`, you ensure a smooth integration – e.g. ChatGPT will **not prompt for confirmation** before calling your safe data retrieval tools[\[45\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Skip%20Confirmations). The result feels like ChatGPT “knows” how to use your custom database tools as if they were part of its built-in knowledge.

- **Anthropic Claude** – Anthropic introduced MCP in 2024, so Claude has native support for it[\[125\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=through%20an%20autonomous%20agent)[\[126\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=Originally%20introduced%20by%20Anthropic%20in,documents%20residing%20in%20external%20systems). There are a few flavors: **Claude Desktop**, **Claude Code**, etc. For local development, Claude’s apps often support running a FastMCP server in STDIO mode. For example, *Claude Desktop* can launch a local FastMCP server process and communicate via STDIO pipes[\[127\]](https://gofastmcp.com/integrations/claude-desktop#:~:text=Claude%20Desktop%20FastMCP%20This%20integration,HTTP%20or%20SSE%20transport%2C). In such a case, you might use `mcp.run()` with default (STDIO) transport, since no HTTP is needed. For remote scenarios, Claude (or any Anthropic client that supports MCP) can talk to your HTTP/SSE endpoint similar to ChatGPT. One difference noted is Claude pays attention to the tool annotations like safety hints. Claude might be more cautious about running tools it perceives as potentially destructive. By marking your data tools as read-only, idempotent, and not open-world (i.e., they don’t call external internet), you help Claude decide to use them more readily[\[128\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20supports%20these%20standard%20annotations%3A)[\[129\]](https://gofastmcp.com/servers/tools#:~:text=Annotation%20Type%20Default%20Purpose%20,the%20tool%20interacts%20with%20external). In general, once connected, Claude can call tools in its conversation with you very much like ChatGPT does. The specifics (how to add connectors or configure Claude) depend on the client – for instance, *Claude Code* could allow installing FastMCP servers in its interface[\[130\]](https://gofastmcp.com/integrations/claude-code#:~:text=Claude%20Code%20FastMCP%20This%20integration,or%20SSE%20transport%20and). The good news is FastMCP publishes standard `mcp.json` **configuration files** for your server which many clients can read to configure themselves[\[131\]](https://gofastmcp.com/integrations/mcp-json-configuration#:~:text=MCP%20JSON%20Configuration%20FastMCP%20FastMCP,Code%2C%20Cursor%2C%20and%20other). This file describes your server’s tools, resources, and metadata in a universal format. Tools like VS Code extensions, Cursor IDE, and others can use it to integrate your server as well[\[132\]\[133\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=,AI%20via%20a%20standardized%20interface).

- **Other Integrations** – Many developer tools are adopting MCP. For example, Sourcegraph, Replit, or Cursor IDE have modes where they connect to an MCP server to gain extra capabilities (like querying a database or running code). FastMCP’s client library and the MCP JSON schema make these integrations seamless. If you plan to drive the LLM interactions from your own Python code (say, using OpenAI’s API to implement an agent loop), you can use `fastmcp.Client` to connect to your server and call tools programmatically[\[134\]](https://gofastmcp.com/getting-started/welcome#:~:text=The%20FastMCP%20docs%20are%20accessible,to%20search%20the%20FastMCP%20docs)[\[135\]](https://gofastmcp.com/getting-started/welcome#:~:text=async%20def%20main,%29%20print%28result). In fact, the example in the docs shows using `Client.call_tool("SearchFastMcp", {...})` to query the *FastMCP documentation server* itself[\[136\]](https://gofastmcp.com/getting-started/welcome#:~:text=import%20asyncio%20from%20fastmcp%20import,Client)[\[135\]](https://gofastmcp.com/getting-started/welcome#:~:text=async%20def%20main,%29%20print%28result). This means you could orchestrate multiple LLMs and your MCP server all in Python: one client for GPT-4, one for Claude, etc., each calling into the FastMCP server as needed. The flexibility is enormous – FastMCP essentially gives your LLMs a **live API** to your data and functions, and any MCP-compatible AI can tap into it.

In conclusion, **FastMCP 2.14.1** equips you with a comprehensive, Pythonic framework to serve advanced data-driven capabilities to LLMs. Using FastMCP, you can turn a personal machine with a DuckDB database and Apache Hamilton pipelines into a powerful AI-accessible service. You define high-level tools and resources in pure Python, annotate them for clarity, and FastMCP handles the rest – from auto-generating schemas and endpoints, to streaming results efficiently over HTTP, to interfacing with the latest AI clients. By leveraging the advanced features discussed – structured outputs, context-driven orchestration, server composition, and robust deployment patterns – a single developer can deliver *rich, customized data interactions* to multiple AI assistants in a secure and scalable manner. FastMCP abstracts away the low-level protocol minutiae and provides sensible defaults (as well as hooks for customization), allowing you to focus on your domain logic. With this toolset, your complex data queries and pipeline outputs can be delivered to LLMs with **unprecedented power and flexibility** – enabling the AI to not just **chat** about your data, but actively *compute, retrieve, and reason* with it via your FastMCP server[\[3\]](https://gofastmcp.com/getting-started/welcome#:~:text=What%20is%20MCP%3F)[\[133\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=,AI%20via%20a%20standardized%20interface). The result is an AI system with access to live, authoritative data and the ability to perform bespoke operations – all under your control and configuration as a Python expert.

**Sources:**

- Jeremiah Lowin, *“Welcome to FastMCP 2.0!”*, GoFastMCP Documentation[\[2\]](https://gofastmcp.com/getting-started/welcome#:~:text=FastMCP%20pioneered%20Python%20MCP%20development%2C,FastMCP%20is%20made%20with%20by)[\[3\]](https://gofastmcp.com/getting-started/welcome#:~:text=What%20is%20MCP%3F).
- FastMCP Documentation – *Tools* (Core Components)[\[8\]](https://gofastmcp.com/servers/tools#:~:text=Content%20Blocks)[\[13\]](https://gofastmcp.com/servers/tools#:~:text=Structured%20Output); *Resources & Templates*[\[54\]](https://gofastmcp.com/servers/resources#:~:text=,Hello%20from%20FastMCP%20Resources)[\[59\]](https://gofastmcp.com/servers/resources#:~:text=New%20in%20version%20,Policy%20headers%20for%20HTML%20widgets); *The FastMCP Server*[\[79\]](https://gofastmcp.com/servers/server#:~:text=Composing%20Servers)[\[84\]](https://gofastmcp.com/servers/server#:~:text=Proxying%20Servers); *Deployment (HTTP)*[\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure)[\[137\]](https://gofastmcp.com/deployment/http#:~:text=Most%20MCP%20clients%2C%20including%20those,as%20debugging%20tools%20or%20inspectors); *ChatGPT Integration*[\[118\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,Click%20Create)[\[45\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Skip%20Confirmations); *Anthropic Claude Integration*[\[49\]](https://gofastmcp.com/servers/tools#:~:text=,and%20make%20better%20execution%20decisions).
- Mehdi Ouazza, *“Close the Loop: Faster Data Pipelines with MCP, DuckDB & AI”*, MotherDuck Blog (Apr 2025)[\[125\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=through%20an%20autonomous%20agent)[\[132\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=,AI%20via%20a%20standardized%20interface).

[\[1\]](https://gofastmcp.com/getting-started/welcome#:~:text=logo%20on%20a%20watercolor%20background,ready%20with%20clean%2C%20Pythonic%20code) [\[2\]](https://gofastmcp.com/getting-started/welcome#:~:text=FastMCP%20pioneered%20Python%20MCP%20development%2C,FastMCP%20is%20made%20with%20by) [\[3\]](https://gofastmcp.com/getting-started/welcome#:~:text=What%20is%20MCP%3F) [\[4\]](https://gofastmcp.com/getting-started/welcome#:~:text=functionality%20to%20LLM%20applications%20in,MCP%20servers%20can) [\[119\]](https://gofastmcp.com/getting-started/welcome#:~:text=Python%20developers%20Complete%3A%20Everything%20for,or%20to%20your%20own%20infrastructure) [\[134\]](https://gofastmcp.com/getting-started/welcome#:~:text=The%20FastMCP%20docs%20are%20accessible,to%20search%20the%20FastMCP%20docs) [\[135\]](https://gofastmcp.com/getting-started/welcome#:~:text=async%20def%20main,%29%20print%28result) [\[136\]](https://gofastmcp.com/getting-started/welcome#:~:text=import%20asyncio%20from%20fastmcp%20import,Client) Welcome to FastMCP 2.0! - FastMCP

<https://gofastmcp.com/getting-started/welcome>

[\[5\]](https://gofastmcp.com/servers/tools#:~:text=Tools%20are%20the%20core%20building,decides%20to%20use%20a%20tool) [\[6\]](https://gofastmcp.com/servers/tools#:~:text=from%20fastmcp%20import%20FastMCP) [\[7\]](https://gofastmcp.com/servers/tools#:~:text=,parameter%20validation%20and%20error%20reporting) [\[8\]](https://gofastmcp.com/servers/tools#:~:text=Content%20Blocks) [\[9\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20automatically%20converts%20tool%20return,into%20appropriate%20MCP%20content%20blocks) [\[10\]](https://gofastmcp.com/servers/tools#:~:text=Media%20Helper%20Classes) [\[11\]](https://gofastmcp.com/servers/tools#:~:text=,Results%20in%20an%20empty%20response) [\[12\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20provides%20helper%20classes%20for,MIME%20type%20and%20base64%20encoding) [\[13\]](https://gofastmcp.com/servers/tools#:~:text=Structured%20Output) [\[14\]](https://gofastmcp.com/servers/tools#:~:text=%2A%20Object,content%20blocks%20for%20backward%20compatibility) [\[15\]](https://gofastmcp.com/servers/tools#:~:text=Primitives%20and%20Collections) [\[16\]](https://gofastmcp.com/servers/tools#:~:text=When%20you%20add%20a%20return,type%20roots%20for%20structured%20output) [\[17\]](https://gofastmcp.com/servers/tools#:~:text=%2A%20Non,content%20blocks%20for%20backward%20compatibility) [\[18\]](https://gofastmcp.com/servers/tools#:~:text=Return%20type%20annotations%20work%20with,definitions%20to%20create%20detailed%20schemas) [\[19\]](https://gofastmcp.com/servers/tools#:~:text=mcp%20%3D%20FastMCP) [\[20\]](https://gofastmcp.com/servers/tools#:~:text=Async%20Support) [\[21\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20is%20an%20async,Async%20tools%20are) [\[22\]](https://gofastmcp.com/servers/tools#:~:text=async%20def%20wrapped_cpu_task%28data%3A%20str%29%20,return%20await%20anyio.to_thread.run_sync%28cpu_intensive_task%2C%20data) [\[23\]](https://gofastmcp.com/servers/tools#:~:text=def%20make_async_background%28fn%3A%20Callable%5B_P%2C%20_R%5D%29%20,_R) [\[24\]](https://gofastmcp.com/servers/tools#:~:text=Accessing%20the%20MCP%20Context) [\[25\]](https://gofastmcp.com/servers/tools#:~:text=mcp%20%3D%20FastMCP%28name%3D) [\[26\]](https://gofastmcp.com/servers/tools#:~:text=The%20Context%20object%20provides%20access,to) [\[27\]](https://gofastmcp.com/servers/tools#:~:text=await%20ctx.info%28f) [\[28\]](https://gofastmcp.com/servers/tools#:~:text=,0%5D.content%20if%20resource%20else) [\[29\]](https://gofastmcp.com/servers/tools#:~:text=,total%3D100) [\[30\]](https://gofastmcp.com/servers/tools#:~:text=) [\[31\]](https://gofastmcp.com/servers/tools#:~:text=New%20in%20version%20,for%20security%20reasons%2C%20you%20can) [\[32\]](https://gofastmcp.com/servers/tools#:~:text=custom%20exceptions%2C%20etc,internal%20error%20details%20for%20security) [\[33\]](https://gofastmcp.com/servers/tools#:~:text=custom%20exceptions%2C%20etc,for%20security%20reasons%2C%20you%20can) [\[34\]](https://gofastmcp.com/servers/tools#:~:text=reasons%2C%20you%20can%3A) [\[35\]](https://gofastmcp.com/servers/tools#:~:text=return%20a%20%2F%20b) [\[36\]](https://gofastmcp.com/servers/tools#:~:text=def%20divide,Divide%20a%20by%20b) [\[37\]](https://gofastmcp.com/servers/tools#:~:text=,by%20zero%20is%20not%20allowed) [\[41\]](https://gofastmcp.com/servers/tools#:~:text=Disabling%20Tools) [\[42\]](https://gofastmcp.com/servers/tools#:~:text=%40mcp.tool%28enabled%3DFalse%29%20def%20maintenance_tool%28%29%3A%20,This%20tool%20is%20disabled) [\[43\]](https://gofastmcp.com/servers/tools#:~:text=MCP%20Annotations) [\[44\]](https://gofastmcp.com/servers/tools#:~:text=,tools%20interact%20with%20external%20systems) [\[47\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20supports%20these%20standard%20annotations%3A) [\[48\]](https://gofastmcp.com/servers/tools#:~:text=Annotation%20Type%20Default%20Purpose%20,tool%20interacts%20with%20external%20systems) [\[49\]](https://gofastmcp.com/servers/tools#:~:text=,and%20make%20better%20execution%20decisions) [\[50\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20tools%20can%20return%20data,these%20three%20concepts%20work%20together) [\[51\]](https://gofastmcp.com/servers/tools#:~:text=,validate%20the%20structured%20output%20format) [\[128\]](https://gofastmcp.com/servers/tools#:~:text=FastMCP%20supports%20these%20standard%20annotations%3A) [\[129\]](https://gofastmcp.com/servers/tools#:~:text=Annotation%20Type%20Default%20Purpose%20,the%20tool%20interacts%20with%20external) Tools - FastMCP

<https://gofastmcp.com/servers/tools>

[\[38\]](https://gofastmcp.com/servers/server#:~:text=Tag) [\[39\]](https://gofastmcp.com/servers/server#:~:text=The%20filtering%20logic%20works%20as,follows) [\[40\]](https://gofastmcp.com/servers/server#:~:text=,public) [\[79\]](https://gofastmcp.com/servers/server#:~:text=Composing%20Servers) [\[80\]](https://gofastmcp.com/servers/server#:~:text=,fastmcp%20import%20FastMCP%20import%20asyncio) [\[81\]](https://gofastmcp.com/servers/server#:~:text=main%20%3D%20FastMCP%28name%3D,Sub) [\[84\]](https://gofastmcp.com/servers/server#:~:text=Proxying%20Servers) [\[85\]](https://gofastmcp.com/servers/server#:~:text=New%20in%20version%20,for%20details%20and%20advanced%20usage) [\[86\]](https://gofastmcp.com/servers/server#:~:text=frontend%20to%20existing%20servers,for%20details%20and%20advanced%20usage) [\[87\]](https://gofastmcp.com/servers/server#:~:text=OpenAPI%20Integration) [\[88\]](https://gofastmcp.com/servers/server#:~:text=from%20fastmcp%20import%20FastMCP) [\[89\]](https://gofastmcp.com/servers/server#:~:text=OpenAPI%20Integration) [\[94\]](https://gofastmcp.com/servers/server#:~:text=Running%20the%20Server) [\[95\]](https://gofastmcp.com/servers/server#:~:text=return%20f) [\[105\]](https://gofastmcp.com/servers/server#:~:text=,legacy%20web%20transport%2C%20deprecated) [\[106\]](https://gofastmcp.com/servers/server#:~:text=Custom%20Routes) [\[107\]](https://gofastmcp.com/servers/server#:~:text=%40mcp.custom_route%28,PlainTextResponse%3A%20return%20PlainTextResponse%28%22OK) The FastMCP Server - FastMCP

<https://gofastmcp.com/servers/server>

[\[45\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Skip%20Confirmations) [\[46\]](https://gofastmcp.com/integrations/chatgpt#:~:text=return%20) [\[77\]](https://gofastmcp.com/integrations/chatgpt#:~:text=ChatGPT%20supports%20MCP%20servers%20through,mode%20for%20comprehensive%20information%20retrieval) [\[78\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Deep%20Research%20Mode) [\[118\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,Click%20Create) [\[120\]](https://gofastmcp.com/integrations/chatgpt#:~:text=This%20feature%20is%20available%20for,Team%2C%20Enterprise%2C%20and%20Edu%20users) [\[121\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1) [\[122\]](https://gofastmcp.com/integrations/chatgpt#:~:text=3) [\[123\]](https://gofastmcp.com/integrations/chatgpt#:~:text=1,you%20can%20use%20your%20tools) [\[124\]](https://gofastmcp.com/integrations/chatgpt#:~:text=Example%20usage%3A) ChatGPT FastMCP - FastMCP

<https://gofastmcp.com/integrations/chatgpt>

[\[52\]](https://gofastmcp.com/servers/resources#:~:text=What%20Are%20Resources%3F) [\[53\]](https://gofastmcp.com/servers/resources#:~:text=The%20) [\[54\]](https://gofastmcp.com/servers/resources#:~:text=,Hello%20from%20FastMCP%20Resources) [\[55\]](https://gofastmcp.com/servers/resources#:~:text=Resources%20provide%20read,client%20requests%20a%20resource%20URI) [\[56\]](https://gofastmcp.com/servers/resources#:~:text=1,is%20returned%20to%20the%20client) [\[57\]](https://gofastmcp.com/servers/resources#:~:text=Return%20Values) [\[58\]](https://gofastmcp.com/servers/resources#:~:text=string%20and%20sent%20as%20,resource%20content%20list%20being%20returned) [\[59\]](https://gofastmcp.com/servers/resources#:~:text=New%20in%20version%20,Policy%20headers%20for%20HTML%20widgets) [\[60\]](https://gofastmcp.com/servers/resources#:~:text=def%20get_widget%28%29%20,src%20%27self%27%22%7D) [\[61\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28%22widget%3A%2F%2Fmy,src%20%27self%27%22%7D) [\[62\]](https://gofastmcp.com/servers/resources#:~:text=,specific%20data) [\[63\]](https://gofastmcp.com/servers/resources#:~:text=,Duplicate%20Resources) [\[64\]](https://gofastmcp.com/servers/resources#:~:text=Copy%20page) [\[65\]](https://gofastmcp.com/servers/resources#:~:text=,Duplicate%20Resources) [\[66\]](https://gofastmcp.com/servers/resources#:~:text=1,is%20returned%20to%20the%20client) [\[67\]](https://gofastmcp.com/servers/resources#:~:text=,Resources) [\[68\]](https://gofastmcp.com/servers/resources#:~:text=Key%20Concepts%3A) [\[69\]](https://gofastmcp.com/servers/resources#:~:text=,Taken%20from%20the%20function%E2%80%99s%20docstring) [\[70\]](https://gofastmcp.com/servers/resources#:~:text=mime_type) [\[71\]](https://gofastmcp.com/servers/resources#:~:text=str%20) [\[72\]](https://gofastmcp.com/servers/resources#:~:text=meta) [\[73\]](https://gofastmcp.com/servers/resources#:~:text=Disabling%20Resources) [\[74\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28,Secret%20data) [\[75\]](https://gofastmcp.com/servers/resources#:~:text=Accessing%20MCP%20Context) [\[76\]](https://gofastmcp.com/servers/resources#:~:text=%40mcp.resource%28%22resource%3A%2F%2Fsystem,ctx.request_id) Resources & Templates - FastMCP

<https://gofastmcp.com/servers/resources>

[\[82\]](https://gofastmcp.com/servers/composition#:~:text=Server%20Composition%20,0%20As%20your%20MCP) Server Composition - FastMCP

<https://gofastmcp.com/servers/composition>

[\[83\]](https://www.reddit.com/r/mcp/comments/1l24ydp/create_a_mcp_to_call_multiple_mcps/#:~:text=We%20call%20this%20%E2%80%9Cserver%20composition%E2%80%9D,com%2Fservers) Create a mcp to call multiple mcps - Reddit

<https://www.reddit.com/r/mcp/comments/1l24ydp/create_a_mcp_to_call_multiple_mcps/>

[\[90\]](https://llmmultiagents.com/en/blogs/FastMCP-2.0--Building-the-USB-C-of-AI-with-Python#:~:text=Server%20Composition%3A%20Building%20Modular%20Systems,allows%20you%20to%20build) FastMCP 2.0: Building the USB-C of AI with Python \| LLM Multi Agent

<https://llmmultiagents.com/en/blogs/FastMCP-2.0--Building-the-USB-C-of-AI-with-Python>

[\[91\]](https://news.ycombinator.com/item?id=44193312#:~:text=One%20of%20the%20first%20features,to%20reuse%20servers%20whenever) One of the first features we added to FastMCP 2.0 \[1\] was server ...

<https://news.ycombinator.com/item?id=44193312>

[\[92\]](https://gofastmcp.com/patterns/contrib#:~:text=New%20in%20version%20,viewed%20in%20the%20contrib%20directory) [\[93\]](https://gofastmcp.com/patterns/contrib#:~:text=To%20use%20a%20contrib%20module%2C,package) Contrib Modules - FastMCP

<https://gofastmcp.com/patterns/contrib>

[\[96\]](https://gofastmcp.com/deployment/http#:~:text=python%20server) [\[97\]](https://gofastmcp.com/deployment/http#:~:text=For%20production%20deployments%2C%20you%E2%80%99ll%20often,or%20integrate%20with%20existing%20infrastructure) [\[98\]](https://gofastmcp.com/deployment/http#:~:text=Your%20server%20is%20now%20accessible,focus%20on%20your%20MCP%20implementation) [\[99\]](https://gofastmcp.com/deployment/http#:~:text=ASGI%20Application) [\[100\]](https://gofastmcp.com/deployment/http#:~:text=,http_app) [\[101\]](https://gofastmcp.com/deployment/http#:~:text=Your%20server%20is%20accessible%20at,part%20of%20a%20larger%20application) [\[102\]](https://gofastmcp.com/deployment/http#:~:text=Copy) [\[103\]](https://gofastmcp.com/deployment/http#:~:text=Custom%20Path) [\[104\]](https://gofastmcp.com/deployment/http#:~:text=,api%2Fmcp) [\[108\]](https://gofastmcp.com/deployment/http#:~:text=Health%20Checks) [\[109\]](https://gofastmcp.com/deployment/http#:~:text=%40mcp.custom_route%28,server) [\[110\]](https://gofastmcp.com/deployment/http#:~:text=CORS%20for%20Browser) [\[111\]](https://gofastmcp.com/deployment/http#:~:text=Most%20MCP%20clients%2C%20including%20those,as%20debugging%20tools%20or%20inspectors) [\[112\]](https://gofastmcp.com/deployment/http#:~:text=LLM%20through%20a%20browser%E2%80%94in%20that,clients%20that%20need%20CORS%20include) [\[113\]](https://gofastmcp.com/deployment/http#:~:text=Custom%20Middleware) [\[114\]](https://gofastmcp.com/deployment/http#:~:text=Middleware%28%20CORSMiddleware%2C%20allow_origins%3D%5B,) [\[115\]](https://gofastmcp.com/deployment/http#:~:text=CORSMiddleware%2C%20allow_origins%3D%5B%22%2A%22%5D%2C%20%20,Type) [\[116\]](https://gofastmcp.com/deployment/http#:~:text=Key%20configuration%20details%3A) [\[117\]](https://gofastmcp.com/deployment/http#:~:text=Authentication) [\[137\]](https://gofastmcp.com/deployment/http#:~:text=Most%20MCP%20clients%2C%20including%20those,as%20debugging%20tools%20or%20inspectors) HTTP Deployment - FastMCP

<https://gofastmcp.com/deployment/http>

[\[125\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=through%20an%20autonomous%20agent) [\[126\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=Originally%20introduced%20by%20Anthropic%20in,documents%20residing%20in%20external%20systems) [\[132\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=,AI%20via%20a%20standardized%20interface) [\[133\]](https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/#:~:text=,AI%20via%20a%20standardized%20interface) Close the Loop: Faster Data Pipelines with MCP, DuckDB & AI - MotherDuck Blog

<https://motherduck.com/blog/faster-data-pipelines-with-mcp-duckdb-ai/>

[\[127\]](https://gofastmcp.com/integrations/claude-desktop#:~:text=Claude%20Desktop%20FastMCP%20This%20integration,HTTP%20or%20SSE%20transport%2C) Claude Desktop FastMCP

<https://gofastmcp.com/integrations/claude-desktop>

[\[130\]](https://gofastmcp.com/integrations/claude-code#:~:text=Claude%20Code%20FastMCP%20This%20integration,or%20SSE%20transport%20and) Claude Code FastMCP

<https://gofastmcp.com/integrations/claude-code>

[\[131\]](https://gofastmcp.com/integrations/mcp-json-configuration#:~:text=MCP%20JSON%20Configuration%20FastMCP%20FastMCP,Code%2C%20Cursor%2C%20and%20other) MCP JSON Configuration FastMCP

<https://gofastmcp.com/integrations/mcp-json-configuration>
