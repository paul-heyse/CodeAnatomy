{"$ref":"#/$defs/PlanArtifactRow","$defs":{"PlanArtifactRow":{"title":"PlanArtifactRow","description":"Serializable plan artifact row persisted to the Delta store.","type":"object","properties":{"event_time_unix_ms":{"type":"integer","minimum":0},"profile_name":{"anyOf":[{"title":"Profile Name","description":"Runtime profile name.","examples":["default","prod_primary"],"type":"string","maxLength":128,"minLength":1,"pattern":"^[A-Za-z0-9][A-Za-z0-9_.:-]{0,127}$"},{"type":"null"}]},"event_kind":{"title":"Event Kind","description":"Artifact event kind identifier.","examples":["plan","execution","write"],"type":"string","maxLength":64,"minLength":1,"pattern":"^[a-z][a-z0-9_]{0,63}$"},"view_name":{"title":"View Name","description":"View name.","examples":["example_view","analytics.view_summary"],"type":"string","maxLength":128,"minLength":1,"pattern":"^[A-Za-z0-9][A-Za-z0-9_.:-]{0,127}$"},"plan_fingerprint":{"title":"Plan Fingerprint","description":"Deterministic plan fingerprint for reproducibility.","examples":["4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c5d6e7f8091a2b3c4d5e6f708192a3b4c"],"type":"string","maxLength":128,"minLength":32,"pattern":"^[A-Fa-f0-9]{32,128}$"},"plan_identity_hash":{"title":"Plan Identity Hash","description":"Deterministic plan identity hash for artifact rows.","examples":["9b7c6d5e4f3a2b1c0d9e8f7a6b5c4d3e2f1a0b9c8d7e6f5a4b3c2d1e0f9a8b7c"],"type":"string","maxLength":128,"minLength":32,"pattern":"^[A-Fa-f0-9]{32,128}$"},"udf_snapshot_hash":{"title":"Hash Value","description":"Deterministic hash value.","examples":["sha256:4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c"],"type":"string","minLength":1},"function_registry_hash":{"title":"Hash Value","description":"Deterministic hash value.","examples":["sha256:4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c"],"type":"string","minLength":1},"required_udfs":{"type":"array","items":{"type":"string"}},"required_rewrite_tags":{"type":"array","items":{"type":"string"}},"domain_planner_names":{"type":"array","items":{"type":"string"}},"delta_inputs_msgpack":{"type":"string","contentEncoding":"base64"},"df_settings":{"type":"object","additionalProperties":{"type":"string"}},"planning_env_msgpack":{"type":"string","contentEncoding":"base64"},"planning_env_hash":{"title":"Hash Value","description":"Deterministic hash value.","examples":["sha256:4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c"],"type":"string","minLength":1},"rulepack_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"rulepack_hash":{"anyOf":[{"title":"Hash Value","description":"Deterministic hash value.","examples":["sha256:4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c"],"type":"string","minLength":1},{"type":"null"}]},"information_schema_msgpack":{"type":"string","contentEncoding":"base64"},"information_schema_hash":{"title":"Hash Value","description":"Deterministic hash value.","examples":["sha256:4a7f2b1c9e4d5a6f7b8c9d0e1f2a3b4c"],"type":"string","minLength":1},"substrait_msgpack":{"type":"string","contentEncoding":"base64"},"logical_plan_proto_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"optimized_plan_proto_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"execution_plan_proto_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"explain_tree_rows_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"explain_verbose_rows_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"explain_analyze_duration_ms":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}]},"explain_analyze_output_rows":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}]},"substrait_validation_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"lineage_msgpack":{"type":"string","contentEncoding":"base64"},"scan_units_msgpack":{"type":"string","contentEncoding":"base64"},"scan_keys":{"type":"array","items":{"type":"string"}},"plan_details_msgpack":{"type":"string","contentEncoding":"base64"},"udf_snapshot_msgpack":{"type":"string","contentEncoding":"base64"},"udf_planner_snapshot_msgpack":{"anyOf":[{"type":"string","contentEncoding":"base64"},{"type":"null"}]},"udf_compatibility_ok":{"type":"boolean"},"udf_compatibility_detail_msgpack":{"type":"string","contentEncoding":"base64"},"execution_duration_ms":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}],"default":null},"execution_status":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"execution_error":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["event_time_unix_ms","profile_name","event_kind","view_name","plan_fingerprint","plan_identity_hash","udf_snapshot_hash","function_registry_hash","required_udfs","required_rewrite_tags","domain_planner_names","delta_inputs_msgpack","df_settings","planning_env_msgpack","planning_env_hash","rulepack_msgpack","rulepack_hash","information_schema_msgpack","information_schema_hash","substrait_msgpack","logical_plan_proto_msgpack","optimized_plan_proto_msgpack","execution_plan_proto_msgpack","explain_tree_rows_msgpack","explain_verbose_rows_msgpack","explain_analyze_duration_ms","explain_analyze_output_rows","substrait_validation_msgpack","lineage_msgpack","scan_units_msgpack","scan_keys","plan_details_msgpack","udf_snapshot_msgpack","udf_planner_snapshot_msgpack","udf_compatibility_ok","udf_compatibility_detail_msgpack"]}}}